<!-- 카테고리 추가 팝업 -->
<div class="category-popup-overlay" id="categoryPopup">
  <div class="category-popup">
    <div class="popup-header">새 카테고리 추가</div>
    <form class="popup-form" id="categoryForm">
      <div class="form-group">
        <label class="form-label" for="categoryName">카테고리 이름</label>
        <input type="text" class="form-input" id="categoryName" placeholder="카테고리 이름을 입력하세요" maxlength="50" required>
      </div>
      <div class="popup-buttons">
        <button type="button" class="popup-btn popup-btn-secondary" id="cancelBtn">취소</button>
        <button type="submit" class="popup-btn popup-btn-primary" id="saveBtn">추가</button>
      </div>
    </form>
  </div>
</div>

<!-- 이벤트 추가 팝업 -->
<div class="event-popup-overlay" id="eventPopup">
  <div class="event-popup">
    <div class="event-popup-header">
      <span class="event-popup-icon">📅</span>
      새 이벤트 추가
      <span class="event-category-name" id="eventCategoryName"></span>
    </div>
    <form class="event-form" id="eventForm">
      <div class="form-group">
        <label class="form-label" for="eventName">이벤트 이름</label>
        <input type="text" class="form-input" id="eventName" placeholder="이벤트 이름을 입력하세요" maxlength="100" required>
      </div>
      
      <div class="popup-buttons">
        <button type="button" class="popup-btn popup-btn-secondary" id="cancelEventBtn">취소</button>
        <button type="submit" class="popup-btn popup-btn-primary" id="saveEventBtn">추가</button>
      </div>
    </form>
  </div>
</div>

<!-- 스케줄 추가 팝업 -->
<div class="schedule-popup-overlay" id="schedulePopup">
  <div class="schedule-popup">
    <div class="schedule-popup-header">
      <span class="schedule-popup-icon">📋</span>
      새 스케줄 추가
    </div>
    <form class="schedule-form" id="scheduleForm">
      <%= render partial: 'timeline/timeline_popup_partial', locals: { prefix: 'schedule', show_duration: true, show_color: false } %>
      
      <div class="popup-buttons">
        <button type="button" class="popup-btn popup-btn-secondary" id="cancelScheduleBtn">취소</button>
        <button type="submit" class="popup-btn popup-btn-primary" id="saveScheduleBtn">추가</button>
      </div>
    </form>
  </div>
</div>

<!-- 삭제 확인 팝업 -->
<div class="delete-confirm-popup-overlay" id="deleteConfirmPopup">
  <div class="delete-confirm-popup">
    <div class="delete-confirm-header">
      <span class="delete-confirm-icon">⚠️</span>
      카테고리 삭제 확인
    </div>
    <div class="delete-confirm-message">
      정말로 <span class="delete-confirm-category" id="deleteCategoryName"></span> 카테고리를 삭제하시겠습니까?
      <br><br>
      <strong>이 작업은 되돌릴 수 없으며, 카테고리 내의 모든 프로젝트도 함께 삭제됩니다.</strong>
    </div>
    <div class="delete-confirm-buttons">
      <button type="button" class="popup-btn popup-btn-secondary" id="cancelDeleteBtn">취소</button>
      <button type="button" class="popup-btn popup-btn-primary" id="confirmDeleteBtn" style="background: #dc3545;">삭제</button>
    </div>
  </div>
</div>

<!-- 스케줄 편집 팝업 -->
<div class="schedule-edit-popup-overlay" id="scheduleEditPopup">
  <div class="schedule-edit-popup">
    <div class="schedule-edit-header">
      <span class="schedule-edit-icon">✏️</span>
      스케줄 편집
    </div>
    
    <form class="schedule-edit-form" id="scheduleEditForm">
      <%= render partial: 'timeline/timeline_popup_partial', locals: { prefix: 'scheduleEdit', show_duration: false, show_color: true } %>
      
      <div class="schedule-edit-buttons">
        <button type="button" class="schedule-edit-btn schedule-cancel-btn" id="scheduleEditCancelBtn">취소</button>
        <button type="button" class="schedule-edit-btn schedule-delete-btn" id="scheduleEditDeleteBtn">삭제</button>
        <button type="submit" class="schedule-edit-btn schedule-save-btn" id="scheduleEditSaveBtn">저장</button>
      </div>
    </form>
  </div>
</div>

<!-- 색상 선택 팝업 -->
<div class="color-picker-popup-overlay" id="colorPickerPopup">
  <div class="color-picker-popup">
    <div class="color-picker-header">
      <span class="color-picker-icon">🎨</span>
      <span id="colorPickerTitle">색상 선택</span>
      <div class="color-picker-category-info">
        <span class="color-picker-category-name" id="colorPickerTargetName"></span>
      </div>
    </div>
    
    <div class="color-picker-content">
      <div class="color-preset-section">
        <h4>기본 색상</h4>
        <div class="color-preset-grid">
          <div class="color-preset-item" data-color="#6c757d" style="background-color: #6c757d;" title="회색 (기본)"></div>
          <div class="color-preset-item" data-color="#28a745" style="background-color: #28a745;" title="초록색"></div>
          <div class="color-preset-item" data-color="#007bff" style="background-color: #007bff;" title="파란색"></div>
          <div class="color-preset-item" data-color="#dc3545" style="background-color: #dc3545;" title="빨간색"></div>
          <div class="color-preset-item" data-color="#ffc107" style="background-color: #ffc107;" title="노란색"></div>
          <div class="color-preset-item" data-color="#6f42c1" style="background-color: #6f42c1;" title="보라색"></div>
          <div class="color-preset-item" data-color="#20c997" style="background-color: #20c997;" title="청록색"></div>
          <div class="color-preset-item" data-color="#fd7e14" style="background-color: #fd7e14;" title="주황색"></div>
          <div class="color-preset-item" data-color="#e83e8c" style="background-color: #e83e8c;" title="분홍색"></div>
          <div class="color-preset-item" data-color="#17a2b8" style="background-color: #17a2b8;" title="시안색"></div>
          <div class="color-preset-item" data-color="#6610f2" style="background-color: #6610f2;" title="인디고"></div>
          <div class="color-preset-item" data-color="#343a40" style="background-color: #343a40;" title="진회색"></div>
        </div>
      </div>
      
      <div class="color-custom-section">
        <h4>사용자 지정 색상</h4>
        <div class="color-custom-input">
          <input type="color" id="customColorPicker" value="#6c757d">
          <label for="customColorPicker">색상 선택</label>
        </div>
      </div>
      
      <div class="color-preview-section">
        <h4>미리보기</h4>
        <div class="color-preview-bar" id="colorPreviewBar">
          <span>샘플 스케줄</span>
        </div>
      </div>
    </div>
    
    <div class="color-picker-buttons">
      <button type="button" class="popup-btn popup-btn-secondary" id="cancelColorBtn">취소</button>
      <button type="button" class="popup-btn popup-btn-primary" id="applyColorBtn">적용</button>
    </div>
  </div>
</div>